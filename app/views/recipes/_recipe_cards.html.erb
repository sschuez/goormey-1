<div class="card-recipe">
  
  <%= link_to recipe_path(recipe) do %>
    <% if recipe.photo.attached? %>
      <%= cl_image_tag recipe.photo.key, :transformation=>[
      {:width=>800, :height=>800}], 
      class: "card-image" %>
    <% else %>
      <%= image_tag "sample_meal.jpg", class: "card-image" %>
    <% end %>
  <% end %>

  <div class="card-recipe-infos">
    <div>
      <h2><%= highlight(recipe.name, query_array) %></h2>
      <p><%= highlight(recipe.description, query_array) %></p>
    </div>

    <%= link_to user_path(recipe.user) do %>
      <% if recipe.user.avatar.attached? %> 
        <%= cl_image_tag recipe.user.avatar.key, :transformation=>[
          {:width=>200, :height=>200, :gravity=>"face", :radius=>"max", :crop=>"thumb"}], 
          class: "card-recipe-user avatar", 'aria-haspopup': true, 'aria-expanded': false %>
      <% else %>
        <%= image_tag "default_avatar_square.png", class: "card-recipe-user avatar", alt: "avatar", 'aria-haspopup': true, 'aria-expanded': false %>
      <% end %>
    <% end %>

  </div>

  <div class="card-recipe-save">
    <i class="far fa-heart"></i>
    <%# <i class="fas fa-heart"></i> %>
  </div>

</div>
